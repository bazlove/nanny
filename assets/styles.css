/* ---------- Global tokens ---------- */
:root{
  /* layout paddings */
  --page-pad: 20px; /* fallback used in sections with full-bleed background */

  /* header pills */
  --hdr-pill-h: 28px;

  /* spacing */
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;

  /* colors (accent + neutrals) */
  --c-accent:#15803D;
  --c-rail:  #E5E7EB;
}

/* ---------- Sections (use class, not global tag) ---------- */
.section{
  padding-block: clamp(40px, 7vw, 80px);
}

/* ---------- Links (dashed) ---------- */
.link-dashed{
  color: inherit;
  text-decoration: none;
  border-bottom: 1px dashed currentColor;
  text-underline-offset: 2px;
}
.link-dashed:hover{
  border-bottom-color: transparent;
  color:#6B7280;
}
.link-dashed--inverse{
  color:#15803D;
  border-bottom-color:#15803D;
}
.link-dashed--inverse:hover{
  color:#6B7280;
  border-bottom-color: transparent;
}

/* ---------- Force <br> in HERO subline ---------- */
.hero .sub br{ display:inline !important; }

/* =========================================================
   WHY (Преимущества) — consolidated
   ========================================================= */
#why.panel--list{
  background:#fff;
  margin-inline: calc(-1 * var(--page-pad, 20px));
  padding-inline: var(--page-pad, 20px);
  border-radius: 0;
}
#why.panel--list :is(h2,.section-title){ margin-bottom: 0; }
#why.panel--list :is(h2,.section-title) + .why-grid{ margin-top: 48px; }
@media (max-width: 768px){
  #why.panel--list :is(h2,.section-title) + .why-grid{ margin-top: 36px; }
}

/* tile */
#why.panel--list .why-card{
  background: #FFF7EC;
  border: 1px solid #F1E7DB;
  border-left: 0;
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(200,167,124,.18);
  padding: 16px;
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
#why.panel--list .why-card:hover{
  background: #FFF3E0;
  border-color: #EAD7C3;
  box-shadow: 0 14px 30px rgba(200,167,124,.22);
  transform: translateY(-2px);
}

/* title */
#why.panel--list .why-title{
  margin: 0 0 8px;
  font-weight: 700;
  font-size: 16px;
  color: #0f172a;
  white-space: normal;
  overflow-wrap: anywhere;
  text-wrap: pretty;
  hyphens: auto;
}

/* =========================================================
   EXPERIENCE (Мой опыт) — tokens on container
   ========================================================= */
#experience{
  --xp-rail-top: 26px;
  --xp-rail-h:   2px;
  --xp-pin-sz:  10px;

  --exp-bg:     #FFF7EC;
  --exp-brd:    #F1E7DB;
  --exp-shadow: 0 10px 24px rgba(200,167,124,.18);
}
#experience :is(h2,.section-title){ margin-bottom: 0; }
#experience :is(h2,.section-title) + :is(.xp-grid,.timeline,.grid,.cards){
  margin-top: 48px;
}
@media (max-width: 768px){
  #experience :is(h2,.section-title) + :is(.xp-grid,.timeline,.grid,.cards){
    margin-top: 36px;
  }
}

/* grid + horizontal rail (desktop/tablet) */
#experience .xp-grid{
  position: relative;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-5) var(--space-6);
  margin-top: var(--space-4);
  list-style: none;
  padding: 0;
}
#experience .xp-grid::before{
  content: "";
  position: absolute;
  left: 0; right: 0;
  top: var(--xp-rail-top);
  height: var(--xp-rail-h);
  background: var(--c-rail);
  border-radius: 999px;
  z-index: 1;
}
#experience .xp-item{
  position: relative;
  padding-top: 40px;
}
#experience .xp-chip{
  position: absolute;
  left: 50%;
  top: calc(var(--xp-rail-top) + var(--xp-rail-h) / 2);
  transform: translate(-50%, calc(-100% - 8px));
  z-index: 3;
  background: transparent;
  border: 0;
  color: #4B5563;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: .2px;
  padding: 0;
  text-shadow: 0 1px 0 #fff;
}
#experience .xp-pin{
  position: absolute;
  left: 50%;
  top: calc(var(--xp-rail-top) + var(--xp-rail-h) / 2);
  transform: translate(-50%, -50%);
  width: var(--xp-pin-sz);
  height: var(--xp-pin-sz);
  background-color: var(--c-accent);
  border-radius: 999px;
  box-shadow: 0 0 0 3px rgba(21,128,61,.18);
  z-index: 2;
}

/* cards */
#experience .xp-card{
  background: var(--exp-bg);
  border: 1px solid var(--exp-brd);
  border-radius: 14px;
  padding: var(--space-4);
  box-shadow: var(--exp-shadow);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
  text-align: left;
}
#experience .xp-card:hover{
  background: #FFF3E0;
  border-color: #EAD7C3;
  box-shadow: 0 14px 30px rgba(200,167,124,.22);
  transform: translateY(-2px);
}
#experience .xp-card h3{
  margin: 0 0 var(--space-2);
  font-weight: 700;
  font-size: 16px;
  color: #0f172a;
}
#experience .xp-card p{
  margin: 0;
  font-size: 14px;
  line-height: 1.55;
  color: #374151;
}

/* responsive columns */
@media (max-width: 1100px){
  #experience .xp-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}

/* mobile timeline overhaul ≤640px */
@media (max-width: 640px){
  #experience{ --xp-pin-sz: 8px; }

  #experience .xp-grid{
    grid-template-columns: 1fr;
    gap: 14px;
    position: relative;
  }
  #experience .xp-grid::before{
    top: 0; bottom: 0;
    left: 12px; right: auto;
    width: var(--xp-rail-h);
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }
  #experience .xp-item{
    display: grid;
    grid-template-columns: 24px minmax(0,1fr);
    column-gap: 10px;
    align-items: start;
    padding: 0;
  }
  #experience .xp-pin{
    grid-column: 1; grid-row: 1;
    position: relative; left: auto; top: auto; transform: none;
    margin-top: 18px;
    width: var(--xp-pin-sz); height: var(--xp-pin-sz);
    justify-self: center;
    z-index: 2;
  }
  #experience .xp-chip{
    grid-column: 2;
    position: static;
    transform: none;
    margin: 0 0 6px 0;
    background: transparent !important;
    box-shadow: none !important;
    padding: 0 !important;
    text-shadow: none !important;
    color: #374151;
    font-weight: 600;
    font-size: 12px;
    letter-spacing: .2px;
  }
  #experience .xp-card{
    grid-column: 2;
    margin-top: 0;
    padding: 12px;
    border-radius: 12px;
  }
  #experience .xp-card h3{ font-size: 15px; margin: 0 0 6px; }
  #experience .xp-card p{ font-size: 13px; line-height: 1.5; }
}

/* FULL-WIDTH white background wrapper like WHY */
#experience.section{
  background:#fff;
  margin-inline: calc(-1 * var(--page-pad, 20px));
  padding-inline: var(--page-pad, 20px);
  border-radius: 0;
}

/* =========================================================
   "i" badges (Header + Contacts + Calculator) — unify
   ========================================================= */
:root{
  --info-badge-size: 22px;
  --info-badge-bg:   #ECEFF3;
  --info-badge-fg:   #6B7280;
  --info-badge-fg-hover:#15803D;
}
.contact-meta .hint,
#calc .label-row .hint,
.site-header .tz-tip.info{
  display: inline-flex !important;
  align-items: center !important;
  cursor: help;
}
.site-header .tz-tip.info{ margin-left: 6px; }
.contact-meta .hint > .i,
#calc .label-row .hint > .i,
.site-header .tz-tip.info .i{
  width: var(--info-badge-size) !important;
  height: var(--info-badge-size) !important;
  flex: 0 0 var(--info-badge-size) !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 50% !important;
  box-sizing: border-box !important;
  padding: 0 !important;
  border: 0 !important;
  background: var(--info-badge-bg) !important;
  color: var(--info-badge-fg) !important;
  font: 600 12px/1 system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif !important;
  vertical-align: middle !important;
  margin-left: 0 !important;
  transition: color .15s ease;
}
/* only symbol to green on hover */
.contact-meta .hint:hover > .i,
#calc .label-row .hint:hover > .i,
.site-header .tz-tip.info:hover .i{
  color: var(--info-badge-fg-hover) !important;
}
@media (max-width: 640px){
  .site-header .tz-tip.info{ display: none !important; }
}

/* =========================================================
   Cookie Banner (desktop: 2 stacked buttons on right)
   ========================================================= */
:root{
  --ck-z:  9999;
  --ck-bg: rgba(15,23,42,.88);
  --ck-fg: #E5E7EB;

  --ck-panel-bg:#fff;
  --ck-border:#E5E7EB;
  --ck-text:#1F2937;

  --ck-primary:#15803D;
  --ck-primary-ink:#fff;

  --ck-link-base:#6B7280; /* footer-like */
  --ck-link-hover:#15803D;
}
.ck-banner[hidden], .ck-modal[hidden]{ display:none !important; }
.ck-banner{
  position: fixed; inset: auto 0 0 0;
  background: var(--ck-bg); color: var(--ck-fg);
  z-index: var(--ck-z);
  box-shadow: 0 -6px 24px rgba(0,0,0,.25);
}
.ck-inner{
  max-width: 1200px; margin: 0 auto; padding: 16px 20px;
  display: grid;
  grid-template-columns: 1fr 240px;
  grid-template-areas:
    "text    actions"
    "links   actions";
  column-gap: 20px; row-gap: 12px;
  align-items: center; /* center buttons vertically on desktop */
}
.ck-text{ grid-area: text; color: var(--ck-fg); }
.ck-text strong{
  display:block;
  font-weight:700; font-size:16px; line-height:1.25;
  margin: 20px 0 32px; /* top breathing and 32px to description */
}
.ck-text p{ margin:0; line-height:1.55; font-size:14px; }
.ck-text p + p{ margin-top:10px; }

/* links below text as a new paragraph */
.ck-links{ grid-area: links; }
.ck-links .ck-link{
  display:inline-block;
  margin:10px 16px 0 0;
  font-size:13px;
  color: var(--ck-link-base);
  text-decoration: none;
  border-bottom: 1px dashed transparent;
}
.ck-links .ck-link:hover{
  color: var(--ck-link-hover);
  border-bottom-color: currentColor;
}

/* right column with stacked buttons */
.ck-actions{
  grid-area: actions;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-self: center;  /* vertically centered in banner */
}
#ck-accept{
  appearance:none; border:0; border-radius:12px;
  padding:14px 16px; font-weight:700; font-size:15px;
  background: var(--ck-primary); color: var(--ck-primary-ink);
  cursor:pointer;
}
#ck-necessary{
  appearance:none; border-radius:12px;
  padding:14px 16px; font-weight:400; font-size:15px; /* not bold */
  background: transparent;
  color:#CBD5E1;
  border: 2px solid rgba(229,231,235,.55);
  box-shadow:none; cursor:pointer;
}
#ck-necessary:hover{
  border-color: rgba(229,231,235,.85);
  color:#E5E7EB;
}

/* mobile (≤640): buttons first, then text and links; taller banner */
@media (max-width:640px){
  .ck-banner{ border-top-left-radius:16px; border-top-right-radius:16px; }
  .ck-inner{
    grid-template-columns: 1fr;
    grid-template-areas:
      "actions"
      "text"
      "links";
    row-gap: 12px;
    padding: 18px 16px 20px;
    align-items: start;
  }
  .ck-actions{ gap: 8px; }
  #ck-accept, #ck-necessary{ font-size:14px; padding:12px 14px; }

  .ck-text strong{ font-size:13px; margin: 6px 0 12px; }
  .ck-text p{ font-size:11px; }
  .ck-links .ck-link{ font-size:10px; margin-top:8px; }
  .ck-links{
    display: grid;
    grid-template-columns: 1fr 1fr;
    column-gap: 12px;
  }
}

/* Cookie Settings modal (unchanged behavior) */
.ck-modal{
  position: fixed; inset: 0; background: rgba(0,0,0,.45);
  z-index: calc(var(--ck-z) + 1);
  display: grid; place-items: end center;
}
.ck-panel{
  width: min(720px,100%); background: var(--ck-panel-bg); color: var(--ck-text);
  border-top-left-radius:16px; border-top-right-radius:16px;
  box-shadow: 0 -16px 40px rgba(0,0,0,.25); padding:16px;
  max-height: 90dvh; overflow:auto;
}
@media (min-width:641px){
  .ck-modal{ place-items:center; }
  .ck-panel{ border-radius:16px; padding:20px 22px; max-height:80dvh; }
}
.ck-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.ck-x{ appearance:none; border:0; width:36px; height:36px; border-radius:10px; background:#F3F4F6; color:#111827; font-size:20px; line-height:1; cursor:pointer; }
.ck-desc{ margin:10px 0 14px; color:#4B5563; }

.ck-groups{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap: 12px; }
.ck-group{ border:1px solid var(--ck-border); border-radius:12px; padding:12px; }
.ck-row{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.ck-name{ font-weight: 700; }
.ck-state{ font-weight:600; color:#047857; }
.ck-note{ margin:8px 0 0; color:#6B7280; line-height:1.5; }

.ck-foot{ display:flex; gap:10px; justify-content:flex-end; margin-top:14px; flex-wrap:wrap; }
.ck-foot .ck-btn{ min-width:180px; }
@media (max-width:640px){
  .ck-foot{ flex-direction:column-reverse; }
  .ck-foot .ck-btn{ width:100%; min-width:0; }
}

/* switches */
.ck-switch{ position:relative; width:44px; height:26px; display:inline-block; }
.ck-switch input{ position:absolute; inset:0; opacity:0; }
.ck-slider{ position:absolute; inset:0; border-radius:999px; background:#E5E7EB; box-shadow: inset 0 0 0 1px #D1D5DB; transition: background .2s; }
.ck-slider::after{ content:""; position:absolute; top:3px; left:3px; width:20px; height:20px; background:#fff; border-radius:999px; box-shadow:0 1px 2px rgba(0,0,0,.25); transition: transform .2s; }
.ck-switch input:checked + .ck-slider{ background:#A7F3D0; box-shadow: inset 0 0 0 1px #6EE7B7; }
.ck-switch input:checked + .ck-slider::after{ transform: translateX(18px); }

/* optional: hide floating manage button if present */
#ck-manage{ display:none !important; }

/* a11y */
@media (prefers-reduced-motion: reduce){
  .ck-slider, .ck-slider::after { transition:none; }
}
